From 1062eaafc623f4826ec50072326bf1a87547a3bd Mon Sep 17 00:00:00 2001
From: Liu Ying <victor.liu@nxp.com>
Date: Tue, 31 May 2022 15:23:47 +0800
Subject: [PATCH 101/274] LF-6266-2 arm64: dts: imx93: Add i.MX93 LDB node

This patch adds i.MX93 LDB device tree node.

Cc: Sandor Yu <Sandor.yu@nxp.com>
Reviewed-by: Sandor Yu <Sandor.yu@nxp.com>
Signed-off-by: Liu Ying <victor.liu@nxp.com>
---
 arch/arm64/boot/dts/freescale/imx93.dtsi | 31 ++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/imx93.dtsi b/arch/arm64/boot/dts/freescale/imx93.dtsi
index 32e0def65..9ca17c692 100644
--- a/arch/arm64/boot/dts/freescale/imx93.dtsi
+++ b/arch/arm64/boot/dts/freescale/imx93.dtsi
@@ -975,6 +975,36 @@ dphy: dphy {
 			};
 		};
 
+		ldb: ldb@4ac10020 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			compatible = "fsl,imx93-ldb";
+			clocks = <&clk IMX93_CLK_LVDS_GATE>;
+			clock-names = "ldb";
+			assigned-clocks = <&clk IMX93_CLK_MEDIA_LDB>;
+			assigned-clock-parents = <&clk IMX93_CLK_VIDEO_PLL>;
+			gpr = <&media_blk_ctrl>;
+			power-domains = <&mediamix>;
+			status = "disabled";
+
+			lvds-channel@0 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				reg = <0>;
+				phys = <&ldb_phy1>;
+				phy-names = "ldb_phy";
+				status = "disabled";
+
+				port@0 {
+					reg = <0>;
+
+					ldb_ch0: endpoint {
+						remote-endpoint = <&lcdif_to_ldb>;
+					};
+				};
+			};
+		};
+
 		ldb_phy: phy@4ac10024 {
 			compatible = "fsl,imx93-lvds-phy";
 			#address-cells = <1>;
@@ -1055,6 +1085,7 @@ lcdif_to_dsi: endpoint@0 {
 
 				lcdif_to_ldb: endpoint@1 {
 					reg = <1>;
+					remote-endpoint = <&ldb_ch0>;
 				};
 
 				lcdif_to_dpi: endpoint@2 {
-- 
2.25.1

